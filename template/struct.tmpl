{{- /* struct-template */ -}}
{{if .Comment -}} // {{.Name}} {{.Comment}} {{- end}}
type {{.Name}} struct { {{range .Fields}}
    {{.Key}} {{.Typ}} {{template "tags" .Tags}} {{if .Comment}}// {{.Comment}}{{end}}
{{- end}}
}

{{- /* tags-template */ -}}
{{define "tags" -}}
{{if . -}}
`{{range $i, $v := . -}}
{{if ne $i 0}} {{end -}}
{{$v.Typ}}:"{{$v.Content}}"
{{- end}}`
{{- end}}
{{- end}}